# ACSE-4-armageddon

Asteroids entering Earth’s atmosphere are subject to extreme drag forces that decelerate, heat and disrupt the space rocks. The fate of an asteroid is a complex function of its initial mass, speed, trajectory angle and internal strength. 

[Asteroids](https://en.wikipedia.org/wiki/Asteroid) 10-100 m in diameter can penetrate deep into Earth’s atmosphere and disrupt catastrophically, generating an atmospheric disturbance ([airburst](https://en.wikipedia.org/wiki/Air_burst)) that can cause [damage on the ground](https://www.youtube.com/watch?v=tq02C_3FvFo). Such an event occurred over the city of [Chelyabinsk](https://en.wikipedia.org/wiki/Chelyabinsk_meteor) in Russia, in 2013, releasing energy equivalent to about 520 [kilotons of TNT](https://en.wikipedia.org/wiki/TNT_equivalent) (1 kt TNT is equivalent to 4.184e12 J), and injuring thousands of people ([Popova et al., 2013](http://doi.org/10.1126/science.1242642); [Brown et al., 2013](http://doi.org/10.1038/nature12741)). An even larger event occurred over [Tunguska](https://en.wikipedia.org/wiki/Tunguska_event), an unpopulated area in Siberia, in 1908. 

This tool predicts the fate of asteroids entering Earth’s atmosphere for the purposes of hazard assessment.

### Installation Guide

To install the project, simply run this in your favorite terminal:

``` pip install git+https://github.com/acse-2019/acse-4-armageddon-vesta.git```


### User instructions

The tool is intended to be used through the provided user interface (user_interface.ipynb in armageddon). The interface will prompt the user to choose an atmospheric function (constant, exponential, tabular, or mars). Afterwards, the user can choose to run an exact simulation on a specific asteroid or an uncertainty quantification. The user starts by choosing which properties of the asteroid to vary, and choosing a specific value for the other ones. The tool will then perform the analysis and display the trajectory and de/dz over altitude for a single event, or airburst altitude distributions for uncertainty analyses. 

Should the user wish to write their own scripts to use this tool, that is also possible. Start with the following:

``` 
import solver
import ensemble

my_planet = solver.Planet() 
```

You can also pass specific arguments to planet (atmos_func = ) to specify an atmospheric function (by default it is exponential).

After that, simply run my_planet.impact() to simulate a single impact or ensemble.solve_ensemble() to perform a single simulation or uncertainty analysis, respectively. Example usages:

```
Result, outcome = my_planet.impact(radius=10, velocity=20e3, density=3000, strength=1e5, angle=45, init_altitude = 100000.0, dt = 0.05, radians=False)
print(Result, outcome)
import matplotlib.pyplot as plt
Result.plot(x='dedz', y='altitude', kind='line')
plt.show()
```
This simulates one impact and plots its de/dz over altitude

```
result = solve_ensemble(my_planet, {'radius': 10, 'angle': 45, 'strength': 1e5, 'velocity': 20e3, 'density': 3000}, variables=['radius','density','velocity','strength'])
altitudes = result['Burst Altitude']
count, bins, ignored = plt.hist(altitudes, 40, facecolor='green')
```
This sends an exact angle value of 45 while varying all other parameters, and plots the distribution of burst altitudes obtained

### Documentation

The code includes [Sphinx](https://www.sphinx-doc.org) documentation. On systems with Sphinx installed, this can be built by running

```
python -m sphinx docs html
```

then viewing the `index.html` file in the `html` directory in your browser.

For systems with [LaTeX](https://www.latex-project.org/get/) installed, a manual pdf can be generated by running

```
python -m sphinx  -b latex docs latex
```

Then following the instructions to process the `Armageddon.tex` file in the `latex` directory in your browser.

### Testing

The tool includes several tests, which you can use to checki its operation on your system. With [pytest](https://doc.pytest.org/en/latest) installed, these can be run with

```
python -m pytest armageddon
```
